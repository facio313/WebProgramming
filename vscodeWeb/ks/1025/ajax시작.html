<!DOCTYPE html>
<meta charset="UTF-8">
<script>
    // 1. 서버와의 통신을 위한 객체 생성
    // XMLHttpRequest : 서버와 상호작용하기 위해 사용한다.
    //                  새로고침 없이 데이터를 받아오며 주로 ajax에 사용됨
    var v_ajax = new XMLHttpRequest();

    // 2. 요청 정보 설정
    // open(정보 전달 방식, 요청을 전달할 서버 (= 정보 처리 위치), 비동기 여부);
    // open(method, url, async); // async는 생략 가능(default:true/비동기)
    v_ajax.open("get", "dummy.txt", true);
    // 3. 요청 정보를 서버로 전달
    v_ajax.send();
    // 4. 이벤트로 요청에 대한 응답 상태를 확인받고 결과를 반환받음
    // onreadystatechange : 오청에 대한 응답을 받는 이벤트 리스터
    v_ajax.onreadystatechange = function(){
        // console.log(v_ajax.readyState);
        // readyState : 통신상태를 전달받음(4: 통신 완료 응답준비 끝)
        // status : 결과에 대한 상태코드 전달받음(200 : ok)
        if(v_ajax.readyState == 4 && v_ajax.status == 200){
            // 응답데이터를 반환받을 수 있음.. responseText를 통해..
            alert(v_ajax.responseText);
        }
    }

    // 3. 요청 정보를 서버로 전달
    // 일반적으로 이벤트(onreadystatechange)를 send보다 위에 작성한다.
    // 처리 내용이 너무 짧을 경우 일부 이벤트를 놓칠 수 있기 때문에..
    v_ajax.send();
</script>